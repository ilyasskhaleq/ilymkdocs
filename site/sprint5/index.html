<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/favicon.ico">
    <title>Sprint 5 &mdash; Ilyass Khaleq Mansourui</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/all.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css">
    <link rel="stylesheet" href="../css/theme.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script> 
</head>

<body ontouchstart="">
    <div id="container">
        <aside>
            <div class="home">
                <div class="title">
                    <button class="hamburger"></button>
                    <a href=".." class="site-name"> Ilyass Khaleq Mansourui</a>
                </div>
                <div class="search">
                    <div role="search">
    <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
        <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
    </form>
</div>
                </div>
            </div>
            <nav class="nav">
                <ul class="root">
                    <li class="toctree-l1"><a class="nav-item" href="../introduccio/">Introducción</a></li>
                    <li class="toctree-l1"><button class="section nav-item">Ubuntu</button>
<ul class="subnav">
    <li class="toctree-l2"><a class="nav-item" href="../sprint2/">Sprint 2</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../sprint3/">Sprint 3</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../sprint4/">Sprint 4</a></li>
    <li class="toctree-l2 current"><a class="nav-item current" href="./">Sprint 5</a>
<ul class="subnav">
<li class="toctree-l3"><a class="nav-item toc" href="#logs">Logs</a></li>
<li class="toctree-l3"><a class="nav-item toc" href="#servidor-actualizacions">Servidor actualizacions</a></li>
<li class="toctree-l3"><a class="nav-item toc" href="#auditoria">Auditoria</a></li>
</ul></li>
</ul></li>
                </ul>
            </nav>
            <div class="repo">
    <div class="previous"><a href="../sprint4/">&laquo; Previous</a></div>
</div>
        </aside>
        <div id="spacer"><button class="arrow"></button></div>
        <main>
            <div class="home-top">
                <button class="hamburger"></button>
                <a href=".." class="site-name"> Ilyass Khaleq Mansourui</a>
            </div>
            <div id="main">
                <nav class="breadcrumbs">
<ul>
    <li>Ubuntu</li>
</ul>
</nav>
                <div id="content"><h1 id="monitoritzacio">Monitorització</h1>
<h2 id="logs">Logs</h2>
<p>Que es un LOG?
Es un arxiu que es pot observar tots els registres d'events que passen en el sistema operatiu, son importnats ja que ens serveixen per fer un bon diagnostic d'un problema, també podem realitzar auditories o monitoritzar el rendiment del sistema.</p>
<p>On s'ubiquen?
Es poden trobar en la següent ruta:
<img alt="Comanda" src="2.png" /> </p>
<p>Tenim la configuració dels logs en el següent arxiu.
<img alt="Comanda" src="3.png" /> </p>
<p>Ara farem una prova amb dos terminals oberts per provar aquesta logs.
En el següent arxiu descomentem el que esta destacat i tot el que pasa sobre el que hem descomentat es guaradar en els logs de <code>syslog</code>.
<img alt="Comanda" src="4.png" /> </p>
<p>La prova que farem consisteix en fer la següent comanda de una alerta d'email i es la següent comanda: <code>logger -i -s -p mail.alert Alerta de mail!!</code>.
I al fer la següent comanda, observem que en el fitxer <code>var/log/syslog</code> podem obervar que ens ha avisat sobre aquesta alerta.
<img alt="Comanda" src="5.png" /> </p>
<p>Seguirem fent mes proves:</p>
<p>En aquest cas modificarem el log de <code>mail.log</code>.
<img alt="Comanda" src="6.png" /></p>
<p>I farem la prova del funcionament. 
I podem observar que al fer el <code>cat /var/log/mail.log</code> que ens avisa sobre la alerta.
<img alt="Comanda" src="7.png" /> </p>
<p>Ara seguirem al el <code>.crit</code> que crearem un log amb el meu nom i sera igual que les anteriors vegades.</p>
<h4 id="journal">Journal</h4>
<p>utilitzarem jounal per veure els avisos que han saltat, utilitzem la següent comanda per veure el critics.
Podem observar que ens han surtit totes les proves que hem fet anteriormen. 
<img alt="Comanda" src="9.png" /> </p>
<h3 id="logs-en-xarxa">Logs en xarxa</h3>
<p>En primer lloc instal·larem <code>rsyslog</code> i accedim al següent fitxer i descomentem les 4 linies.
<img alt="Comanda" src="20.png" /> </p>
<p>Despues de la modificació fem un <code>sysstemctl restart rsyslog</code> i activem els següent ports.
<img alt="Comanda" src="21.png" /> </p>
<p>En el que en aquest cas es el client afegim la ip del servidor i tornem a fer la següent comanda:<code>systemctl restart rsyslog</code>. 
<img alt="Comanda" src="22.png" /> 
Com podem observar en la dreta es el client i hem accedit a root i podem observar que es generen els següents logs.
<img alt="Comanda" src="23.png" /> </p>
<h3 id="rendiment">Rendiment</h3>
<p>Per poder visualitzar el rendiment del sistema tenim un programa que es el següent.
<img alt="Comanda" src="1.png" /> 
Podrem observar els diferents procesoss que s'executen al mateix temps.
<img alt="Comanda" src="24.png" /> </p>
<p>També podem obsrevar els recursos que gasta cada component.
<img alt="Comanda" src="25.png" /> </p>
<p>I finalment podem observar Els sistemes de fitxers.
<img alt="Comanda" src="26.png" />  </p>
<h2 id="servidor-actualizacions">Servidor actualizacions</h2>
<p>Un servidor d'actualitzacions és una màquina centralitzada a la qual es connecten diversos equips clients per obtenir els paquets d'actualització. D’aquesta manera, s’evita saturar la xarxa i els serveis quan molts dispositius intenten descarregar el mateix paquet simultàniament.</p>
<p>Per verificar el correcte funcionament d’aquest sistema, farem servir l’eina Apache, que ens permetrà gestionar i distribuir aquestes actualitzacions de manera eficient.</p>
<p>En primer lloc instal·lem apache en el servidor.
<img alt="Comanda" src="10.png" /> 
També instal·lem <code>apt-mirror</code>
<img alt="Comanda" src="11.png" /> 
Accedim al arxiu <code>/etc/apt/mirror.list</code> i agreguem el següent codi.
<img alt="Comanda" src="12.png" /> 
Després de modificar el arxiu anterior, executem <code>apt-mirror</code>
<img alt="Comanda" src="13.png" /> 
Seguidament comprovem si els canvis que hem fet se han realitzat correctament.
<img alt="Comanda" src="14.png" /> </p>
<p>Els següents passos que farem son en el client.</p>
<p>En primer lloc, afegim la clau GPG  de google a aquest sistema.
<img alt="Comanda" src="15.png" /> 
En aquest fitxer afegim la ruta del paquert de chrome afegin la ip del server.
<img alt="Comanda" src="16.png" /> 
Ara fem un update i podem obervar que esta la ruta que hem fet abans.
<img alt="Comanda" src="17.png" /> 
Ara fem un <code>apt install google-chrome-stable</code> i se instal·la chrome.
<img alt="Comanda" src="18.png" /> 
Seguidament comprovem si esta instal·lat.
<img alt="Comanda" src="27.png" /> </p>
<h2 id="auditoria">Auditoria</h2>
<p>Realitzarem una auditoria amb lynis.</p>
<h3 id="lynis">Lynis</h3>
<p>Lynis és una eina d'anàlisi de seguretat de codi obert que s'utilitza per:</p>
<ul>
<li>
<p>Avaluar el nivell de seguretat d’un sistema.</p>
</li>
<li>
<p>Identificar configuracions febles o incorrectes.</p>
</li>
<li>
<p>Proporcionar recomanacions per millorar la protecció d’un servidor o equip Linux.</p>
</li>
</ul>
<p>Aquesta eina està especialment dissenyada per a administradors de sistemes, auditors i professionals de la ciberseguretat.</p>
<p>Es important fer <code>sudo apt update</code>.</p>
<p>En primer lloc es instal·lar <code>sudo apt install lynis -y</code>   <br />
<img alt="Comanda" src="30.png" /> 
Ara farem una auditoria amb la comanda <code>lynis audit system</code>.
<img alt="Comanda" src="31.png" /> 
Com podem observar tenim diferents apartats on tracten tots els temes del nostre sistema.
Yo me he fixat en un apartat on ens recomana instal·lar uns paquets que ens ajuden a millorar la seguretat del sisema.
<img alt="Comanda" src="32.png" /> 
<img alt="Comanda" src="33.png" /> 
<img alt="Comanda" src="34.png" /> 
<img alt="Comanda" src="35.png" /> 
Yo me he fixat en un apartat on ens recomana instal·lar uns paquets que ens ajuden a millorar la seguretat del sisema.
Seguidament he descargar els paquets que hem feien falta que son els següents.</p>
<ul>
<li>apt-listbugs: Ajuda a identificar errors coneguts en paquets abans d'instal·lar-los.</li>
<li>apt-listchanges: Mostra canvis i notes importants en actualitzacions de paquets.</li>
<li>needrestart: Informa si cal reiniciar serveis després d’una actualització.</li>
<li>fail2ban: Protegeix contra atacs de força bruta bloquejant IPs sospitoses.
Instal·lem alguns paquets com aquests 3.
<img alt="Comanda" src="36.png" /> 
I comprovem que ja ens surt que ja estan instal·lats.
<img alt="Comanda" src="37.png" /> </li>
</ul></div>
                <footer>
    <div class="footer-buttons">
        <div class="previous"><a href="../sprint4/" title="Sprint 4"><span>Previous</span></a></div>
    </div>
    <div class="footer-note">
        <p>
            Built with <a href="http://www.mkdocs.org">MkDocs</a> using
            <a href="https://github.com/daizutabi/mkdocs-ivory">Ivory theme</a>.
        </p>
    </div>
</footer>
            </div>
        </main>
    </div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
    <script src="../search/main.js"></script>
</body>

</html>
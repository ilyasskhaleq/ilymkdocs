{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Bienvenido a mi documentaci\u00f3n","title":"Bienvenido a mi documentaci\u00f3n"},{"location":"#bienvenido-a-mi-documentacion","text":"","title":"Bienvenido a mi documentaci\u00f3n"},{"location":"introduccio/","text":"Implantaci\u00f3 de sistemes operatiuss Aquesta pagina es fara una explicaci\u00f3 detallada de tots els sprints del curs 24/25. opyright: Ilyass Khaleq by Ilyass khaleq is licensed under CC BY-NC-SA 4.0","title":"Introducci\u00f3n"},{"location":"introduccio/#implantacio-de-sistemes-operatiuss","text":"Aquesta pagina es fara una explicaci\u00f3 detallada de tots els sprints del curs 24/25. opyright: Ilyass Khaleq by Ilyass khaleq is licensed under CC BY-NC-SA 4.0","title":"Implantaci\u00f3 de sistemes operatiuss"},{"location":"sprint2/","text":"Sprint 2 Gesti\u00f3 de processos TOP Aqquesta comanda monitoriotza a temps real tots els procesos que s'executen en el sistema. pstree Mostra una representaci\u00f3 en forma d'arbre dels procesoss que se estan executan a temps real. ps aux Es una llista de tots els procesos e s'executen en el sistema a temps real i podem observar que tenen mes informaci\u00f3 sobre cada proces. Ctrl + C Ctrl + C s'utilitza per parar un proces en el terminal, per exemple si estem fent un ping i cliquem les tecles Ctrl + C detenim el proces. En aquest cas com no tinc conexi\u00f3 a internet se me ha quedat buscant un ping que no pot trobar i al fer Ctrl + C he interrumpit el proces. Ctrl + Z Es quasi igual al proc\u00e9s anterior, pero en aquest cas es per suspendre el proces i parar-lo temporalment. jobs Aquesta comnada es la que ens ense\u00f1a tots els procesos que estan segon pl\u00e0, com en el cas anterior al fer Ctrl + Z , gr\u00e0cies a esta comanda podem veure quins prpcesos estan parats temporalment. Aqui podem comprovar amb el proc\u00e9s anterior i tamb\u00e9 he fet un altre ping i ho he supes temporalment per a que suritgue la llista que la componen dos pings parats temporalment. fg % Esta comanda s'utilitza per tornar a posar en marxa una comanda que est\u00e0 suspesa amb la comanda anterior. Com abans he fet un jobs i he creat com una llista que la componen 2 ping i ara el que farem es que gracies a esta comanda podrem pasar a primer pla el treball anterior. kill -9 PID Amb aquesta comanda podrem parar un proc\u00e9s amb el seu PID. la comanda seria la seg\u00fcent: kill -9 (PID) Ara farem un ps aux per veure tots els processos i seleccionarem un. Podem observar que el proces 5480 ya no es. Gesti\u00f3 d\u2019usuaris i grups Fitxers de configuraci\u00f3 Aquest fitxers s\u00f3n importants a tindrels en compte ja que les seues funcions son essencials. /PASSWD El fitxer /etc/passwd cont\u00e9 informaci\u00f3 b\u00e0sica sobre els usuaris del sistema, com els noms dels usuaris, identificadors i altres opcions que fan que el sistema funcioni perfectament. Aqu\u00ed podem veure els usuaris i les seves informacions basiques. Si volem modificar el fitxer utilitzem aquesta comanda: Llavors ens apereixeria aquest fitxer: /GROUP Es un fitxer de comfiguraci\u00f3 essencial que defineix els grups i la seva relaci\u00f3 amb els usuaris.S\u2019utilitza per controlar els permisos dels usuaris i l\u2019acc\u00e9s als recursos.Aqu\u00ed es podria visualitzar els diferents grups amb el seu GID particular. Per modificar aquest fitxer utilitzem aquesta comanda. /SHADOW Aquest fitxer cont\u00e9 informaci\u00f3 encriptada de les contrasenyes dels usuaris i configuracions de seguretat. nomes es pot accedir pel usuari root ja que es protegeixen les contrasenyes. Per modificar el fitxer s'utilitza aquesta comanda. GSAHDOW Aquest fitxer \u00e9s similar al anterior per\u00f2 en aquest cas est\u00e0 fet per a la gesti\u00f3 de grups. Per modificar aquest fitxer: /LOGIN.DEFS Aquest fitxer proporciona valors predeterminats a les comandes \u201cuseradd\u201d \u201cpasswd\u201d i \u201clogin\u201d facilitant la configuraci\u00f3 per als usuaris. Per modificar el fitxer: /DEFAULT/USERADD Aquest fitxer cont\u00e9 configuracions predeterminades per a quan es crea un nou usuari amb la comanda useradd. Per accedir al document es en aquesta comanda. /ADDUSER.CONF I /DELUSER.CONF S\u00f3n fitxers que controlen el comportament de les eines adduser i deluser. Son molt mes completes que useradd i userdel. /SKEL Aquest fitxer cont\u00e9 una plantilla i directoris predeterminats que se copien directament al directori de home dels nous usuaris quan es creen amb la comanda Useradd . Informacio Adicional: Tots aquests arxius que es troben dins de skel, per a poder visualitzar-los tenim que fer un ls -la . Per poder accedir al directori es en aquesta comanda i ja podem observar que estem dins. Ara que ja estem dins del directori fem un ls -la i observem els arxius que tenim. Poedem observar que tenim 3 documents amb permisos root. .profile : Aquest fitxer s'executa quan el usuari inicia la sessi\u00f3.S'utilitza principalment per establir configuracions. Ara que ja hem apr\u00e9s que realitzen cada un d'aquests arxius podem fer una prova del seu funcionament. En el arxiu .profile hem modificat que la carpeta home de l'usuari en vex de crearse en el /home s'ha de crear en el /var. .bashrc :Es carrega a cada sessi\u00f3, en aquest arxiu es poden definir funcions i varbiales de l'entorn personalitzades. La modificaci\u00f3 que hem realitzat ha segut sobre una comanda, es a dir, que aun fem escribem \"connexi\u00f3\" es far\u00e0 un ls -la . .Bash_logout : Aquest fitxer s'executa quan el usuari tanca la sessi\u00f3. Cont\u00e9 ordres per netejar recursos o finalitzar processos. En aquest fitxer he agregat la comanada que he subratllat en la imatge. Aquesta comanada elimina tots els arxius dins del directori \"Baixades\" del usuri actual quan es tanca la sessi\u00f3 . S'executa quan la sessi\u00f3 se tanca. Administraci\u00f3 d'Usuaris Agregar usuaris useradd Comando b\u00e1sico de gesti\u00f3n de usuarios en sistemas Linux No realiza configuraciones autom\u00e1ticas ni pasos adicionales. Al usar useradd, es necesario especificar manualmente: El directorio home. Los grupos. La shell. Otras configuraciones, si no se desean los valores predeterminados. Ideal para usuarios avanzados que necesitan personalizar todos los aspectos de las cuentas de usuario. Ara le afegim una contrasenya al usuari. Seguidament le afegim una Shell. Finalment comprovem que hem cambiat la contrasenya i la shell. Per verificar que si hem creat el usuari utilitzem el fitxers que he expplicat abans i tamb\u00e9 en la interficie gr\u00e0fica. adduser \u00c9s un script en Perl que fa servir internament useradd . Ofereix una interf\u00edcie m\u00e9s senzilla i configura autom\u00e0ticament diversos par\u00e0metres per defecte: Crea el directori home de manera autom\u00e0tica. Assigna un grup per defecte. Demana una contrasenya durant el proc\u00e9s. M\u00e9s f\u00e0cil i pr\u00e0ctic per a usuaris que volen crear comptes sense haver de definir cada par\u00e0metre manualment. Prova: Podem veure que ens demana contrasenya i que ens crea el directori home de forma automatica i ens assigna a un grup per defecte Aqui podem comprovar que estan tot creat i que no fa falta que el creem nosaltes. Eliminar Usuaris Per eliminar un usuari utilizem la comanda deluser (nom usuari) Deluser Al fer aquesta comanda, nomes eliminem el usuari pero deixem els arxius del usuari i altres. Per eliminar un usuari es en aquesta comanda. Comprovem que s\u2019ha borrat, podem observar que ja no es veu el l'usuari. Per borrar els arxius necessitem fer altres comandes. Per eliminar tamb\u00e9 el seu directori hem de fer la comanda deluser --remove-home (nom usuari) Agregar i eliminar grups Groupadd Creem el grup classe i verifiquem que esta en el fitxer /etc/group. Per afegir un usuari a un grup hem de fer aquesta comanda. usermod -aG nom_grup nom_usuari Ara per eliminar el usuari del grup, utilitxem aquesta comanda: gpasswd -d nom_usuari nom_grup Delgroup Ara eliminem el grup i verifiquem si esta borrat. Aqui podem veure que el grup classe ja no existeix. Personalitzaci\u00f3 d'usuaris Ara ja que tenim una mica de idea sobre creaci\u00f3 d'usuaris, anirem a modificar les comandes adduser useradd En primer lloc modificarem la comanda adduser Hem modificat aquestes punts: * DHOME=/home a DHOME=/tmp: les carpetes \"home\" no es crearan en la carpeta home sino que en \"/tmp\" * #SKEL=/etc/skel a SKEL=/etc/skel: es a dir hem llevat el hastag de comanetari ja que no he feia efecte. * FIRT_UID=1000 a FIRT_UID=2000: aqui cambiem el numero per defecte del usuari a 2000. * FIRST_GID=1000 a FIRST_GID=2000: Es la mateixa que la anterior pero en aquest cas es sobre grups. Ara comprovem el canvis. Finalment per acabar amb aquest apartat nem a modificar la comanda useradd En aquest arxiu no fa falta cambiar parametres ja que com hem de fer nosaltres el canvis manualment. Gesti\u00f3 de permisos En primer lloc, es impresendible saberse com es la taula de persmisos en forma binaria: En primer lloc creem 4 usuaris (verd,groc,roig,blau) i un grup(parchis), afegim verd i blau al grup parchis i l'usuari groc al grup sudo. Aqui podem visualitzar els permisos dels usuaris que hem creat. Pemisos normlas chgrp En primer lloc crearem una carpeta proves i dins tambe crearem un arxiu \"hola\" dins del usuari \"groc\" Ara cambiarem els permisos a la carpeta proves, es a dir, modificarem els permisos posant-la en el grup parchis. Aquesta comanda chgrp -R parchis proves/ en aquest cas, la comanda mou tot el que es troba dins de la carpeta al mateix dest\u00ed. chmod En aquest cas canbien els permisos al grup i usuaris. chmod -R proves : en aquesta imatge podem observar els canvis que hem realitzat. Comprovacions dels permisos donats Usuari Groc(sudo) En la seg\u00fcent imatge podem comprovar que podem fer un ls -l i tambe podem accedir dins de la carpeta. Usuari Verd i blau En aquests 2 usuaris com estan al mateix grup tenen els mateixos permisos i podem accedir dins de la carpeta pero no podem crear cap arxiu ni borrar. Usuari Roig En aquest cas no podem accedir ni a la carpeta. Permisos Especials En aquest punt, volem crear una carpeta i que els diferents usuaris puguin fer determinades funcions amb els permisos que s'els otorga a cadasc\u00fa Sticky Donar uns deteminats permisos com poden llegir, crear i tot pero no poden borra els fitxers dels altres nom\u00e9s els seus. Comprovaciopns Roig Crearem dos arxius dins de la carpeta i borrarem un i podem observar que si que el podem borrar i deixarem el altre per comprovar si el podem borrar en altres usuaris. Verd Ara comprovem el usuari verd. I podem observar que podem crear pero no podem borrar. getfacl Aquesta comanda permet veure coses extra sobre la carpeta sabre els seus permisos. setfacl Aquesta comanmda ens permet fer exepcions.Tenim diferenets parametres. -m Aqui podem comprovar que hem fet la exepci\u00f3. -b Serveix per eliminar tootes les exepcions. -x Elimina les exepcions sobre un usuari en concret. Permisos UMASK Qu\u00e8 \u00e9s la mascara de permisos? La m\u00e0scara de permisos (Umask) \u00e9s un valor que defineix quins permisos es retiraran per defecte quan es creen nous fitxers o directoris.Aix\u00f2 assegura que els fitxers no tinguin permisos massa amplis. Per saber quina mascara tenim fem aquesta comanda: Funcionament de la M\u00e0scara La m\u00e0scara de permisos (umask) defineix quins permisos es retiren per defecte quan es crea un nou fitxer o directori. Aix\u00f2 es fa mitjan\u00e7ant una operaci\u00f3 l\u00f2gica AND entre els permisos predeterminats i la m\u00e0scara negada. Permisos predeterminats * Fitxers: 666 (lectura i escriptura per a tots els usuaris). * Directoris: 777 (lectura, escriptura i execuci\u00f3 per a tots els usuaris). Fem la operaci\u00f3 AND per a donar permisos a un usuari per un directori. En surt el numero que hem de assignar. Canvair UMASK Per canviar tenim dos formes; temporal i difinitiva. Temporal S'utilitza aquesta comanda: Difinitiva Per cambiar de forma difinitiva ho hem de fer en el fitxer /etc/login.defs Comprovaci\u00f3 Ara crearem un nou usuari per comprovar la modificaci\u00f3 i podem veure que se ha modificat correctament. Per finalitzar Umask \u00e9s util per establir permisos predeterminats de manera temporal o permanent. Sistemes de fitxers i particions Estructura de la informaci\u00f3 mida sector Unitat m\u00ednima fisica on es guarden le sdades i la minima es 512 bytes pero el sistema no treballa en sectors, treballa en blocs. la mida del sector no es pot cambiar ja que ve predefinida desde fabrica mida block Es la unitat l\u00f2gica del sistema operatiu on es guarden les dades per defecte. La mida block es pot canviar quan formatem la mida sector. fragmentacio interna Quan \u00e9s tot aquell espai desaprofitat dels blocs que no s'acaben de plenar. Es pot disminuir la mida del bloc pero tindrem el problema de baixada del rendiment. Tamb\u00e9 es una bona soluci\u00f3 que es aumentar el tamany del blocs pero empitjorem la fragmentaci\u00f3 interna molt. frammentaci\u00f3 externa La fragmentaci\u00f3 externa \u00e9s un problema que es produeix a la mem\u00f2ria quan l'assignador deixa seccions de blocs de mem\u00f2ria no utilitzats entre parts de la mem\u00f2ria assignada. Un bloc fragmentat externament encara est\u00e0 disponible per a l'assignador, per\u00f2 nom\u00e9s si es necessita mem\u00f2ria que pugui cabre dins d'aquest bloc. El bloc a\u00efllat no es pot utilitzar per a necessitats de mem\u00f2ria m\u00e9s grans i no es pot reagrupar amb la mem\u00f2ria lliure total. Soluci\u00f3 La soluci\u00f3 principal per reduir la fragmentaci\u00f3 externa \u00e9s la desfragmentaci\u00f3, que reorganitza els blocs de mem\u00f2ria per agrupar l'espai lliure i fer-lo m\u00e9s \u00fatil per a futures assignacions. Creaci\u00f3 de particions i formats Tipus de formateig Baix Nivell Es realitza a nivell f\u00edsic del disc. Divideix el disc en sectors i pistes que poden ser reconeguts pel maquinari. \u00c9s un proc\u00e9s que es fa en f\u00e0brica i rarament es necessita fer manualment. Rapid Nivell Esborra nom\u00e9s la taula d'assignaci\u00f3 de fitxers (FAT) o l'\u00edndex del sistema de fitxers. Les dades encara existeixen f\u00edsicament al disc, per\u00f2 ja no s\u00f3n accessibles f\u00e0cilment. \u00c9s molt m\u00e9s r\u00e0pid que el formateig complet. Mig nivell Defineix el sistema de fitxers que s'utilitzar\u00e0 a la partici\u00f3 . Configura la partici\u00f3 per emmagatzemar dades segons el sistema operatiu i el tipus d'\u00fas. Sistemes de fitxers Creaci\u00f3 de particions i formateig Els sistemes de fitxers s\u00f3n els encarregats d\u2019organitzar i gestionar les dades. Creem un disc: Fem aquesta comanda fdisk -l aixi podem visualitzar tota la informaci\u00f3. Ara que ja saben que el disc en el que volem treballar es sdc nem a accedir a ell. fdisk /dev/sdc amb aquesta comanda podem accedir al disk especificat. Poseu la lletra n per realitzar la partici\u00f3, i procedim a clicar enter ja que volem tot predeterminat. I per a comprovar que hem una partici\u00f3, tornem a realitzar la comanda fdisk -l . Ara procedim a fer el formateig de la partici\u00f3 i modifiquem el tamany del bloc. Podem observar que hem fet el canvi correctament del bloc i el formateig. Muntatge de les particions** Temporal Les particions temporals s'utilitzen per dividir un espai de manera provisional i poden ser desmuntades f\u00e0cilment. Per a realitzar muntatges temporals es important fer aquests pasos. En primer lloc, entrem al directori /var i creem una crapeta particio1 i Dins de la carpeta creem un arxiu .txt. Realitzem aquesta comanda mount -t ext4 /dev/sdc1 /var/particio1 i al fer un ls podem comprovar el que hem fet. I per desmuntar fem la comanda umount -t ext4 /dev/sdc1 /var/particio1 i ja estaria desmontat. Creem un a\u00f1tre fitxer per a un futur. Fem un reboot (en la captura esta mal posat) i al reiniciar podem comprovar que ja no el trobem ja que es temporal . Difinitiu Per realitxar el muntatge Difinitiu hem de modificar el arxiu /etc/fstab amb les seg\u00fcents modificacions. Ara al fer un reboot encara tenim el muntatge fet ja que aquesta es la forma difinitiva. Aqui podem comprobar que els canvis se han realitzat correctament. comparticio de la carpeta en Xarxa. Tenim diferents formes per a compartir fitxers en la mateixa xaraxa, Nosaltres hem provar Nautilus samba Nautilus En primer lloc, instal\u00b7larem Nautilus amb la seg\u00fcent comanda. Ara entrem a la carpera /var/ i fem clic dret a la carepta que hem creat i posem a la opci\u00f3 de \"opcions de comparticio\" Podem observar que amb aquesta forma no ens funiona, per aix\u00f2 utilitzarem la opci\u00f3 de Samba Samba Com que la opci\u00f3 anterior no ens ha funcionat, provarem aquseta per si ens funciona... Intsallem SAMBA amb la comanda seg\u00fcent.(Virtual Box) Cal recalcar que es possible que ya estigue instal\u00b7lada. Modifiquem el seg\u00fcent arxiu /etc/samba/smb.conf Fem la seg\u00fcent comanda per Reiniciar el servei que gestiona la comparticiode fitxers i autinticaci\u00f3 d'usuaris(smbd) i per reinicia el servei que gestiona el servei de noms i la descoberta de recursos en la xarxa(nmbd). Cambiem els persmisos per que tots els usuaris puguin tenir les mateioxes opcions sobre la carpeta, amb la seg\u00fcent comanda. Creem el ususari que hem posat anteriorment al modificar el arxiu /etc/samba/smb.conf per a no tenir problemes proximament. Utilitzem la seg\u00fcent comanda per a que altres usuaris puiguin accedir als recursos compartits configurats a traves de SAMBA. En el meu cas he posat (Adaptador pont) pero no me ha funcionat i he posat (Adaptador nomes d'amfitrio) i he provat la conexi\u00f3 i me ha funionat. Cambiem a l'opci\u00f3 Usuari registrat i posem el nom d'usuari i la seva contrase\u00f1a i ja ens connectat. Creem una carpeta o arxiu, que en aquest es una carpeta, per provar la connexi\u00f3. Ara nem a la VM i entrem a la carpeta i fem un ls -l per veure les propietats i podem veure que el que la ha creat es l'usuari platano. Creaci\u00f3 de Particions i Formataci\u00f3 en NFTS: Guia per Ubuntu i Windows En aquest cas farem l'exercici adicional que es compartir un directori formatat amb NTFS. Cal aclarir que no he pogut solucionar els errors que me ha donat Creem i muntem un directori Creem un directori que volem que apareixe en el dispositiu windows. Cambiem el fitxer /etc/fstab amb les seg\u00fcents dades. Seguidament modifiquem /etc/samba/smb.conf Tamb\u00e9 cambiem els permisos per a que tots tinguen els mateixos permisos i tambe reseteigem el smbd i nmbd. Finalment al voler fer la connexi\u00f3 per a conectarme en el sistema operatiu windows hem dona el problema de error de connexi\u00f3 quotes de disc Que s\u00f3n les quotes de disc? Les quotes de disc s\u00f3n un mecanisme utilitzat en sistemes operatius per controlar i limitar l'espai d'emmagatzematge que un usuari o grup pot utilitzar en un sistema de fitxers. Aix\u00f2 \u00e9s especialment \u00fatil en entorns multiusuari, com ara servidors o sistemes compartits, per evitar que un usuari ocupi tot l'espai disponible al disc dur i afecti altres usuaris o el rendiment general del sistema. Com funcionen les quotes de disc? Les quotes es configuren per usuari o grup en un sistema de fitxers espec\u00edfic. Els administradors poden establir: * L\u00edmits per fitxers: Nombre m\u00e0xim de fitxers que un usuari pot crear (tamb\u00e9 conegut com a l\u00edmit d'inodes). * L\u00edmits per espai: Quantitat m\u00e0xima d'espai que pot utilitzar un usuari en megabytes (MB), gigabytes (GB), etc. Les quotes es controlen mitjan\u00e7ant eines del sistema operatiu, com ara: * quota o edquota en Linux. * Funcions integrades en Windows Server. Exercici practic En primer lloc, Intsal\u00b7lem \"quota\". Creem una nova particio amb la comanda fdisk /dev/sdc i prenem la tecla n per crear la partici\u00f3. Al fer la comanada fdisk -l podem verificar que hem fet la partici\u00f3. Modifiquem el arxiu /etc/fstab i posem els seg\u00fcents parametres: defaults, usrquota i grpquota: per a que habiliti les quotes per a usuaris i grups. Com ja sabem, al modificar aquest arxiu, hem de reiniciar. Important: Si modifiquem mal el arxiu no podrem reiniciar el sistema i ho hem de arreglar manual En segon lloc, activem les quotes en un directori amb les seg\u00fcents comandes quotacheck -cug /mnt/dades i despres quotaon /mnt/dades i ho verifiquem aml la comanda ls -la En el meu cas, es important fer aquestos pasos sin\u00f2, no es podra fer el munstatge. es fer un formateig amb el format ext4 i despres fer un muntatge com hem fet abans. Crem l'usuari per poder fer proves. Nem a la carpeta /mnt/ i realitxem aquesta comanda edquota -u usuari1 per editar manualment les quotes assignades a un usuari. Nosaltres modificarem aquests dos parametres. blando: indica el limit que l'usuari pot exedir durant el periode. duro: Es el l\u00edmit maxim que no pot exedir l'usuari. Es important cambiar el persmisos del directori, per a poder crear arxius desde altres usuaris. Ara intentarem sobrepasar el limit del que hem modificat en el arxiu de edquota -u usuari1 Amb la seg\u00fcent comanda dd if=/dev/zero of=test bs=1K count=800 creem arxius amb un fitxer d'entrada que en aquest cas es /dev/zero, que genera zeros cont\u00ednuament. Tamb\u00e9 hem especificat el nom del arxiu i finalment diem quina mida volem que tingue l'arxiu que sera de uns 800Kb. Podem observar que hem creat 3 fitxers correctament, per\u00f2, al ultim fitxer he tingut l'error que voliem que es que hem sobrepassat el limit d'espai. Ara ja sabem quin es el l\u00edmit, borrem els 4 arxius creats i nem a fer-ho de forma grafica descargant imatges amb bona resoluci\u00f3. He descargat una imatge amb una mida de 887 Kb i he provat de sobrepassar el limit. He ho he trobat ja que he deixat dos arxius anteriors per a fer espai. He calculat que no podre ni des\u00e0 cap imatge i s\u00ed, tinc ra\u00f3, ja que he sobrepassat el l\u00edmit del directori. C\u00f2pies de seguretat i automatitzaci\u00f3 de tasques 1.Teoria 1.1C\u00f2pies de seguretat (fer una taula comparativa) Tipus Descripci\u00f3 Avantatges Desavantatges Completes \u00c9s realitza una copia de tot. No es deixa cap arxiu,es a dir, es fa una copia de tot. Al fer estes copies completes utilitza molt d'espai i tarda molt de temps per fer les copies ja que en fa de tot. Diferencials Una diferencial copia la diferencia sempre a partir de la ultima completa \u00c9s molt \u00fatil per a copies que es fan seq\u00fcentcialment ja que utiliza menys espai i tarda menys que una completa. Necessita l'\u00faltima completa i l'\u00faltima diferencial (ja que fa com una diferencia entre la completa i la ultima diferencial). Incrementals Canvis des de l'\u00faltima c\u00f2pia (qualsevol). ocupen menys espai i son molt m\u00e9s r\u00e0pides. Necessita completa i totes les incrementals per restaurar. Duplicity 2.Comandes 3.1 Explicaci\u00f3 3.2cp Es una copia simple no intel\u00b7ligent ho copio tot sense mirar res, ho fa tot en el local i no es pot fer remotament. 3.3rsync Copia intelligent nom\u00e9s copia fitxers modificats i se pot utilitzar entre m\u00e0quines remotes per ssh. 3.4dd No \u00e9s per a fer c\u00f2pies de fitxers \u00e9s m\u00e9s per a fer clonacions de particions o de discos.Tamb\u00e9 treballa en local i ho copia tot \u00e9s a dir que tampoc \u00e9s intel\u00b7ligent. Serveix per sobreescriu dades de sector a sector.Ja que ho esborra tot a nivell de bloc CP(pr\u00e0ctica) La comanda es cp -r /(origin) /(Dest\u00ed). Podem observar que hem fet una copia de tot lo que es troba al directori /homw/ilyass/Descargas a la carpeta nova que hem creat. rsync Aquesta comanda el que fe es una copia exacta dels directoris, es a dir, borra fitxers que no es triben en el altre directori. rsync -av --delete /home/alumne/Descargas/ /var/copies/ Podem observar que ens borra la carpeta de prova 2 ja que no es troba en /var/copies. Automatitzaci\u00f3 amb scripts i cron i anacron( Automatitzaci\u00f3 de tasques a partir scripts) Caracter\u00edstica Anacron Cron Finalitat Automatitzar tasques en ordinadors apagats. Automatitzar tasques quan l'ordinador est\u00e0 engegat. Com funciona amb l'ordinador apagat Revisa tasques pendents quan l'ordinador es torna a encendre. Executa tasques nom\u00e9s si l'ordinador est\u00e0 enc\u00e8s. \u00das recomanat Tasques de manteniment i generals. Tasques que requereixen execuci\u00f3 en una data exacta. Fitxer per tasques globals No s'aplica. /etc/crontab (per a tasques globals per a tots els usuaris). Fitxer per tasques d'un usuari espec\u00edfic No s'aplica. crontab -e -u (usuari) per tasques espec\u00edfiques a un usuari. Carpetes predeterminades per cron No s'aplica. Directori /etc/ amb carpetes per scripts que es vulguin executar en una data exacta. Pr\u00e0ctica Creem un script per podeer provar com funciona aquesta pr\u00e0ctica i posem el codi seg\u00fcent. Si posem /home/$USER en anacron no funciona i hem de posar el usuari especific. Cambiem els permisos a root. En el arxiu /etc/crontab posem que en en la fecha seg\u00fcent es faigue la clonaci\u00f3 del directori \"im\u00e1gines\" Aqui podem observar que ens ha fet la clonaci\u00f3 en el la hora 10:26. Ara el que farem es borrar la data d'avui en el fitxer /etc/cron.daily. En primer lloc passem la script copies.sh Ara borrem el .sh per a no tenir confusions. Borrem el que hi ha dins de cron.daily Cambiem de 5 a 1 per a que nomes tarde 1 min per a que ens pose la fecha en el cron.daily Esperem el minut i ja podem veure que ja tenim la fecha diaria.","title":"Sprint 2"},{"location":"sprint2/#sprint-2","text":"","title":"Sprint 2"},{"location":"sprint2/#gestio-de-processos","text":"","title":"Gesti\u00f3 de processos"},{"location":"sprint2/#top","text":"Aqquesta comanda monitoriotza a temps real tots els procesos que s'executen en el sistema.","title":"TOP"},{"location":"sprint2/#pstree","text":"Mostra una representaci\u00f3 en forma d'arbre dels procesoss que se estan executan a temps real.","title":"pstree"},{"location":"sprint2/#ps-aux","text":"Es una llista de tots els procesos e s'executen en el sistema a temps real i podem observar que tenen mes informaci\u00f3 sobre cada proces.","title":"ps aux"},{"location":"sprint2/#ctrl-c","text":"Ctrl + C s'utilitza per parar un proces en el terminal, per exemple si estem fent un ping i cliquem les tecles Ctrl + C detenim el proces. En aquest cas com no tinc conexi\u00f3 a internet se me ha quedat buscant un ping que no pot trobar i al fer Ctrl + C he interrumpit el proces.","title":"Ctrl + C"},{"location":"sprint2/#ctrl-z","text":"Es quasi igual al proc\u00e9s anterior, pero en aquest cas es per suspendre el proces i parar-lo temporalment.","title":"Ctrl + Z"},{"location":"sprint2/#jobs","text":"Aquesta comnada es la que ens ense\u00f1a tots els procesos que estan segon pl\u00e0, com en el cas anterior al fer Ctrl + Z , gr\u00e0cies a esta comanda podem veure quins prpcesos estan parats temporalment. Aqui podem comprovar amb el proc\u00e9s anterior i tamb\u00e9 he fet un altre ping i ho he supes temporalment per a que suritgue la llista que la componen dos pings parats temporalment.","title":"jobs"},{"location":"sprint2/#fg","text":"Esta comanda s'utilitza per tornar a posar en marxa una comanda que est\u00e0 suspesa amb la comanda anterior. Com abans he fet un jobs i he creat com una llista que la componen 2 ping i ara el que farem es que gracies a esta comanda podrem pasar a primer pla el treball anterior.","title":"fg %"},{"location":"sprint2/#kill-9-pid","text":"Amb aquesta comanda podrem parar un proc\u00e9s amb el seu PID. la comanda seria la seg\u00fcent: kill -9 (PID) Ara farem un ps aux per veure tots els processos i seleccionarem un. Podem observar que el proces 5480 ya no es.","title":"kill -9 PID"},{"location":"sprint2/#gestio-dusuaris-i-grups","text":"","title":"Gesti\u00f3 d\u2019usuaris i grups"},{"location":"sprint2/#fitxers-de-configuracio","text":"Aquest fitxers s\u00f3n importants a tindrels en compte ja que les seues funcions son essencials.","title":"Fitxers de configuraci\u00f3"},{"location":"sprint2/#passwd","text":"El fitxer /etc/passwd cont\u00e9 informaci\u00f3 b\u00e0sica sobre els usuaris del sistema, com els noms dels usuaris, identificadors i altres opcions que fan que el sistema funcioni perfectament. Aqu\u00ed podem veure els usuaris i les seves informacions basiques. Si volem modificar el fitxer utilitzem aquesta comanda: Llavors ens apereixeria aquest fitxer:","title":"/PASSWD"},{"location":"sprint2/#group","text":"Es un fitxer de comfiguraci\u00f3 essencial que defineix els grups i la seva relaci\u00f3 amb els usuaris.S\u2019utilitza per controlar els permisos dels usuaris i l\u2019acc\u00e9s als recursos.Aqu\u00ed es podria visualitzar els diferents grups amb el seu GID particular. Per modificar aquest fitxer utilitzem aquesta comanda.","title":"/GROUP"},{"location":"sprint2/#shadow","text":"Aquest fitxer cont\u00e9 informaci\u00f3 encriptada de les contrasenyes dels usuaris i configuracions de seguretat. nomes es pot accedir pel usuari root ja que es protegeixen les contrasenyes. Per modificar el fitxer s'utilitza aquesta comanda.","title":"/SHADOW"},{"location":"sprint2/#gsahdow","text":"Aquest fitxer \u00e9s similar al anterior per\u00f2 en aquest cas est\u00e0 fet per a la gesti\u00f3 de grups. Per modificar aquest fitxer:","title":"GSAHDOW"},{"location":"sprint2/#logindefs","text":"Aquest fitxer proporciona valors predeterminats a les comandes \u201cuseradd\u201d \u201cpasswd\u201d i \u201clogin\u201d facilitant la configuraci\u00f3 per als usuaris. Per modificar el fitxer:","title":"/LOGIN.DEFS"},{"location":"sprint2/#defaultuseradd","text":"Aquest fitxer cont\u00e9 configuracions predeterminades per a quan es crea un nou usuari amb la comanda useradd. Per accedir al document es en aquesta comanda.","title":"/DEFAULT/USERADD"},{"location":"sprint2/#adduserconf-i-deluserconf","text":"S\u00f3n fitxers que controlen el comportament de les eines adduser i deluser. Son molt mes completes que useradd i userdel.","title":"/ADDUSER.CONF I  /DELUSER.CONF"},{"location":"sprint2/#skel","text":"Aquest fitxer cont\u00e9 una plantilla i directoris predeterminats que se copien directament al directori de home dels nous usuaris quan es creen amb la comanda Useradd . Informacio Adicional: Tots aquests arxius que es troben dins de skel, per a poder visualitzar-los tenim que fer un ls -la . Per poder accedir al directori es en aquesta comanda i ja podem observar que estem dins. Ara que ja estem dins del directori fem un ls -la i observem els arxius que tenim. Poedem observar que tenim 3 documents amb permisos root. .profile : Aquest fitxer s'executa quan el usuari inicia la sessi\u00f3.S'utilitza principalment per establir configuracions. Ara que ja hem apr\u00e9s que realitzen cada un d'aquests arxius podem fer una prova del seu funcionament. En el arxiu .profile hem modificat que la carpeta home de l'usuari en vex de crearse en el /home s'ha de crear en el /var. .bashrc :Es carrega a cada sessi\u00f3, en aquest arxiu es poden definir funcions i varbiales de l'entorn personalitzades. La modificaci\u00f3 que hem realitzat ha segut sobre una comanda, es a dir, que aun fem escribem \"connexi\u00f3\" es far\u00e0 un ls -la . .Bash_logout : Aquest fitxer s'executa quan el usuari tanca la sessi\u00f3. Cont\u00e9 ordres per netejar recursos o finalitzar processos. En aquest fitxer he agregat la comanada que he subratllat en la imatge. Aquesta comanada elimina tots els arxius dins del directori \"Baixades\" del usuri actual quan es tanca la sessi\u00f3 . S'executa quan la sessi\u00f3 se tanca.","title":"/SKEL"},{"location":"sprint2/#administracio-dusuaris","text":"","title":"Administraci\u00f3 d'Usuaris"},{"location":"sprint2/#agregar-usuaris","text":"","title":"Agregar usuaris"},{"location":"sprint2/#useradd","text":"Comando b\u00e1sico de gesti\u00f3n de usuarios en sistemas Linux No realiza configuraciones autom\u00e1ticas ni pasos adicionales. Al usar useradd, es necesario especificar manualmente: El directorio home. Los grupos. La shell. Otras configuraciones, si no se desean los valores predeterminados. Ideal para usuarios avanzados que necesitan personalizar todos los aspectos de las cuentas de usuario. Ara le afegim una contrasenya al usuari. Seguidament le afegim una Shell. Finalment comprovem que hem cambiat la contrasenya i la shell. Per verificar que si hem creat el usuari utilitzem el fitxers que he expplicat abans i tamb\u00e9 en la interficie gr\u00e0fica.","title":"useradd"},{"location":"sprint2/#adduser","text":"\u00c9s un script en Perl que fa servir internament useradd . Ofereix una interf\u00edcie m\u00e9s senzilla i configura autom\u00e0ticament diversos par\u00e0metres per defecte: Crea el directori home de manera autom\u00e0tica. Assigna un grup per defecte. Demana una contrasenya durant el proc\u00e9s. M\u00e9s f\u00e0cil i pr\u00e0ctic per a usuaris que volen crear comptes sense haver de definir cada par\u00e0metre manualment. Prova: Podem veure que ens demana contrasenya i que ens crea el directori home de forma automatica i ens assigna a un grup per defecte Aqui podem comprovar que estan tot creat i que no fa falta que el creem nosaltes.","title":"adduser"},{"location":"sprint2/#eliminar-usuaris","text":"Per eliminar un usuari utilizem la comanda deluser (nom usuari)","title":"Eliminar Usuaris"},{"location":"sprint2/#deluser","text":"Al fer aquesta comanda, nomes eliminem el usuari pero deixem els arxius del usuari i altres. Per eliminar un usuari es en aquesta comanda. Comprovem que s\u2019ha borrat, podem observar que ja no es veu el l'usuari. Per borrar els arxius necessitem fer altres comandes. Per eliminar tamb\u00e9 el seu directori hem de fer la comanda deluser --remove-home (nom usuari)","title":"Deluser"},{"location":"sprint2/#agregar-i-eliminar-grups","text":"","title":"Agregar i eliminar grups"},{"location":"sprint2/#groupadd","text":"Creem el grup classe i verifiquem que esta en el fitxer /etc/group. Per afegir un usuari a un grup hem de fer aquesta comanda. usermod -aG nom_grup nom_usuari Ara per eliminar el usuari del grup, utilitxem aquesta comanda: gpasswd -d nom_usuari nom_grup","title":"Groupadd"},{"location":"sprint2/#delgroup","text":"Ara eliminem el grup i verifiquem si esta borrat. Aqui podem veure que el grup classe ja no existeix.","title":"Delgroup"},{"location":"sprint2/#personalitzacio-dusuaris","text":"Ara ja que tenim una mica de idea sobre creaci\u00f3 d'usuaris, anirem a modificar les comandes adduser useradd En primer lloc modificarem la comanda adduser Hem modificat aquestes punts: * DHOME=/home a DHOME=/tmp: les carpetes \"home\" no es crearan en la carpeta home sino que en \"/tmp\" * #SKEL=/etc/skel a SKEL=/etc/skel: es a dir hem llevat el hastag de comanetari ja que no he feia efecte. * FIRT_UID=1000 a FIRT_UID=2000: aqui cambiem el numero per defecte del usuari a 2000. * FIRST_GID=1000 a FIRST_GID=2000: Es la mateixa que la anterior pero en aquest cas es sobre grups. Ara comprovem el canvis. Finalment per acabar amb aquest apartat nem a modificar la comanda useradd En aquest arxiu no fa falta cambiar parametres ja que com hem de fer nosaltres el canvis manualment.","title":"Personalitzaci\u00f3 d'usuaris"},{"location":"sprint2/#gestio-de-permisos","text":"En primer lloc, es impresendible saberse com es la taula de persmisos en forma binaria: En primer lloc creem 4 usuaris (verd,groc,roig,blau) i un grup(parchis), afegim verd i blau al grup parchis i l'usuari groc al grup sudo. Aqui podem visualitzar els permisos dels usuaris que hem creat.","title":"Gesti\u00f3 de permisos"},{"location":"sprint2/#pemisos-normlas","text":"chgrp En primer lloc crearem una carpeta proves i dins tambe crearem un arxiu \"hola\" dins del usuari \"groc\" Ara cambiarem els permisos a la carpeta proves, es a dir, modificarem els permisos posant-la en el grup parchis. Aquesta comanda chgrp -R parchis proves/ en aquest cas, la comanda mou tot el que es troba dins de la carpeta al mateix dest\u00ed. chmod En aquest cas canbien els permisos al grup i usuaris. chmod -R proves : en aquesta imatge podem observar els canvis que hem realitzat. Comprovacions dels permisos donats Usuari Groc(sudo) En la seg\u00fcent imatge podem comprovar que podem fer un ls -l i tambe podem accedir dins de la carpeta. Usuari Verd i blau En aquests 2 usuaris com estan al mateix grup tenen els mateixos permisos i podem accedir dins de la carpeta pero no podem crear cap arxiu ni borrar. Usuari Roig En aquest cas no podem accedir ni a la carpeta.","title":"Pemisos normlas"},{"location":"sprint2/#permisos-especials","text":"En aquest punt, volem crear una carpeta i que els diferents usuaris puguin fer determinades funcions amb els permisos que s'els otorga a cadasc\u00fa Sticky Donar uns deteminats permisos com poden llegir, crear i tot pero no poden borra els fitxers dels altres nom\u00e9s els seus. Comprovaciopns Roig Crearem dos arxius dins de la carpeta i borrarem un i podem observar que si que el podem borrar i deixarem el altre per comprovar si el podem borrar en altres usuaris. Verd Ara comprovem el usuari verd. I podem observar que podem crear pero no podem borrar. getfacl Aquesta comanda permet veure coses extra sobre la carpeta sabre els seus permisos. setfacl Aquesta comanmda ens permet fer exepcions.Tenim diferenets parametres. -m Aqui podem comprovar que hem fet la exepci\u00f3. -b Serveix per eliminar tootes les exepcions. -x Elimina les exepcions sobre un usuari en concret.","title":"Permisos Especials"},{"location":"sprint2/#permisos-umask","text":"Qu\u00e8 \u00e9s la mascara de permisos? La m\u00e0scara de permisos (Umask) \u00e9s un valor que defineix quins permisos es retiraran per defecte quan es creen nous fitxers o directoris.Aix\u00f2 assegura que els fitxers no tinguin permisos massa amplis. Per saber quina mascara tenim fem aquesta comanda: Funcionament de la M\u00e0scara La m\u00e0scara de permisos (umask) defineix quins permisos es retiren per defecte quan es crea un nou fitxer o directori. Aix\u00f2 es fa mitjan\u00e7ant una operaci\u00f3 l\u00f2gica AND entre els permisos predeterminats i la m\u00e0scara negada. Permisos predeterminats * Fitxers: 666 (lectura i escriptura per a tots els usuaris). * Directoris: 777 (lectura, escriptura i execuci\u00f3 per a tots els usuaris). Fem la operaci\u00f3 AND per a donar permisos a un usuari per un directori. En surt el numero que hem de assignar. Canvair UMASK Per canviar tenim dos formes; temporal i difinitiva. Temporal S'utilitza aquesta comanda: Difinitiva Per cambiar de forma difinitiva ho hem de fer en el fitxer /etc/login.defs Comprovaci\u00f3 Ara crearem un nou usuari per comprovar la modificaci\u00f3 i podem veure que se ha modificat correctament. Per finalitzar Umask \u00e9s util per establir permisos predeterminats de manera temporal o permanent.","title":"Permisos UMASK"},{"location":"sprint2/#sistemes-de-fitxers-i-particions","text":"Estructura de la informaci\u00f3 mida sector Unitat m\u00ednima fisica on es guarden le sdades i la minima es 512 bytes pero el sistema no treballa en sectors, treballa en blocs. la mida del sector no es pot cambiar ja que ve predefinida desde fabrica mida block Es la unitat l\u00f2gica del sistema operatiu on es guarden les dades per defecte. La mida block es pot canviar quan formatem la mida sector. fragmentacio interna Quan \u00e9s tot aquell espai desaprofitat dels blocs que no s'acaben de plenar. Es pot disminuir la mida del bloc pero tindrem el problema de baixada del rendiment. Tamb\u00e9 es una bona soluci\u00f3 que es aumentar el tamany del blocs pero empitjorem la fragmentaci\u00f3 interna molt. frammentaci\u00f3 externa La fragmentaci\u00f3 externa \u00e9s un problema que es produeix a la mem\u00f2ria quan l'assignador deixa seccions de blocs de mem\u00f2ria no utilitzats entre parts de la mem\u00f2ria assignada. Un bloc fragmentat externament encara est\u00e0 disponible per a l'assignador, per\u00f2 nom\u00e9s si es necessita mem\u00f2ria que pugui cabre dins d'aquest bloc. El bloc a\u00efllat no es pot utilitzar per a necessitats de mem\u00f2ria m\u00e9s grans i no es pot reagrupar amb la mem\u00f2ria lliure total. Soluci\u00f3 La soluci\u00f3 principal per reduir la fragmentaci\u00f3 externa \u00e9s la desfragmentaci\u00f3, que reorganitza els blocs de mem\u00f2ria per agrupar l'espai lliure i fer-lo m\u00e9s \u00fatil per a futures assignacions. Creaci\u00f3 de particions i formats Tipus de formateig Baix Nivell Es realitza a nivell f\u00edsic del disc. Divideix el disc en sectors i pistes que poden ser reconeguts pel maquinari. \u00c9s un proc\u00e9s que es fa en f\u00e0brica i rarament es necessita fer manualment. Rapid Nivell Esborra nom\u00e9s la taula d'assignaci\u00f3 de fitxers (FAT) o l'\u00edndex del sistema de fitxers. Les dades encara existeixen f\u00edsicament al disc, per\u00f2 ja no s\u00f3n accessibles f\u00e0cilment. \u00c9s molt m\u00e9s r\u00e0pid que el formateig complet. Mig nivell Defineix el sistema de fitxers que s'utilitzar\u00e0 a la partici\u00f3 . Configura la partici\u00f3 per emmagatzemar dades segons el sistema operatiu i el tipus d'\u00fas. Sistemes de fitxers Creaci\u00f3 de particions i formateig Els sistemes de fitxers s\u00f3n els encarregats d\u2019organitzar i gestionar les dades. Creem un disc: Fem aquesta comanda fdisk -l aixi podem visualitzar tota la informaci\u00f3. Ara que ja saben que el disc en el que volem treballar es sdc nem a accedir a ell. fdisk /dev/sdc amb aquesta comanda podem accedir al disk especificat. Poseu la lletra n per realitzar la partici\u00f3, i procedim a clicar enter ja que volem tot predeterminat. I per a comprovar que hem una partici\u00f3, tornem a realitzar la comanda fdisk -l . Ara procedim a fer el formateig de la partici\u00f3 i modifiquem el tamany del bloc. Podem observar que hem fet el canvi correctament del bloc i el formateig.","title":"Sistemes de fitxers i particions"},{"location":"sprint2/#muntatge-de-les-particions","text":"","title":"Muntatge de les particions**"},{"location":"sprint2/#temporal","text":"Les particions temporals s'utilitzen per dividir un espai de manera provisional i poden ser desmuntades f\u00e0cilment. Per a realitzar muntatges temporals es important fer aquests pasos. En primer lloc, entrem al directori /var i creem una crapeta particio1 i Dins de la carpeta creem un arxiu .txt. Realitzem aquesta comanda mount -t ext4 /dev/sdc1 /var/particio1 i al fer un ls podem comprovar el que hem fet. I per desmuntar fem la comanda umount -t ext4 /dev/sdc1 /var/particio1 i ja estaria desmontat. Creem un a\u00f1tre fitxer per a un futur. Fem un reboot (en la captura esta mal posat) i al reiniciar podem comprovar que ja no el trobem ja que es temporal .","title":"Temporal"},{"location":"sprint2/#difinitiu","text":"Per realitxar el muntatge Difinitiu hem de modificar el arxiu /etc/fstab amb les seg\u00fcents modificacions. Ara al fer un reboot encara tenim el muntatge fet ja que aquesta es la forma difinitiva. Aqui podem comprobar que els canvis se han realitzat correctament.","title":"Difinitiu"},{"location":"sprint2/#comparticio-de-la-carpeta-en-xarxa","text":"Tenim diferents formes per a compartir fitxers en la mateixa xaraxa, Nosaltres hem provar Nautilus samba","title":"comparticio de la carpeta en Xarxa."},{"location":"sprint2/#nautilus","text":"En primer lloc, instal\u00b7larem Nautilus amb la seg\u00fcent comanda. Ara entrem a la carpera /var/ i fem clic dret a la carepta que hem creat i posem a la opci\u00f3 de \"opcions de comparticio\" Podem observar que amb aquesta forma no ens funiona, per aix\u00f2 utilitzarem la opci\u00f3 de Samba","title":"Nautilus"},{"location":"sprint2/#samba","text":"Com que la opci\u00f3 anterior no ens ha funcionat, provarem aquseta per si ens funciona... Intsallem SAMBA amb la comanda seg\u00fcent.(Virtual Box) Cal recalcar que es possible que ya estigue instal\u00b7lada. Modifiquem el seg\u00fcent arxiu /etc/samba/smb.conf Fem la seg\u00fcent comanda per Reiniciar el servei que gestiona la comparticiode fitxers i autinticaci\u00f3 d'usuaris(smbd) i per reinicia el servei que gestiona el servei de noms i la descoberta de recursos en la xarxa(nmbd). Cambiem els persmisos per que tots els usuaris puguin tenir les mateioxes opcions sobre la carpeta, amb la seg\u00fcent comanda. Creem el ususari que hem posat anteriorment al modificar el arxiu /etc/samba/smb.conf per a no tenir problemes proximament. Utilitzem la seg\u00fcent comanda per a que altres usuaris puiguin accedir als recursos compartits configurats a traves de SAMBA. En el meu cas he posat (Adaptador pont) pero no me ha funcionat i he posat (Adaptador nomes d'amfitrio) i he provat la conexi\u00f3 i me ha funionat. Cambiem a l'opci\u00f3 Usuari registrat i posem el nom d'usuari i la seva contrase\u00f1a i ja ens connectat. Creem una carpeta o arxiu, que en aquest es una carpeta, per provar la connexi\u00f3. Ara nem a la VM i entrem a la carpeta i fem un ls -l per veure les propietats i podem veure que el que la ha creat es l'usuari platano.","title":"Samba"},{"location":"sprint2/#creacio-de-particions-i-formatacio-en-nfts-guia-per-ubuntu-i-windows","text":"En aquest cas farem l'exercici adicional que es compartir un directori formatat amb NTFS. Cal aclarir que no he pogut solucionar els errors que me ha donat Creem i muntem un directori Creem un directori que volem que apareixe en el dispositiu windows. Cambiem el fitxer /etc/fstab amb les seg\u00fcents dades. Seguidament modifiquem /etc/samba/smb.conf Tamb\u00e9 cambiem els permisos per a que tots tinguen els mateixos permisos i tambe reseteigem el smbd i nmbd. Finalment al voler fer la connexi\u00f3 per a conectarme en el sistema operatiu windows hem dona el problema de error de connexi\u00f3","title":"Creaci\u00f3 de Particions i Formataci\u00f3 en NFTS: Guia per Ubuntu i Windows"},{"location":"sprint2/#quotes-de-disc","text":"","title":"quotes de disc"},{"location":"sprint2/#que-son-les-quotes-de-disc","text":"Les quotes de disc s\u00f3n un mecanisme utilitzat en sistemes operatius per controlar i limitar l'espai d'emmagatzematge que un usuari o grup pot utilitzar en un sistema de fitxers. Aix\u00f2 \u00e9s especialment \u00fatil en entorns multiusuari, com ara servidors o sistemes compartits, per evitar que un usuari ocupi tot l'espai disponible al disc dur i afecti altres usuaris o el rendiment general del sistema.","title":"Que s\u00f3n les quotes de disc?"},{"location":"sprint2/#com-funcionen-les-quotes-de-disc","text":"Les quotes es configuren per usuari o grup en un sistema de fitxers espec\u00edfic. Els administradors poden establir: * L\u00edmits per fitxers: Nombre m\u00e0xim de fitxers que un usuari pot crear (tamb\u00e9 conegut com a l\u00edmit d'inodes). * L\u00edmits per espai: Quantitat m\u00e0xima d'espai que pot utilitzar un usuari en megabytes (MB), gigabytes (GB), etc. Les quotes es controlen mitjan\u00e7ant eines del sistema operatiu, com ara: * quota o edquota en Linux. * Funcions integrades en Windows Server.","title":"Com funcionen les quotes de disc?"},{"location":"sprint2/#exercici-practic","text":"En primer lloc, Intsal\u00b7lem \"quota\". Creem una nova particio amb la comanda fdisk /dev/sdc i prenem la tecla n per crear la partici\u00f3. Al fer la comanada fdisk -l podem verificar que hem fet la partici\u00f3. Modifiquem el arxiu /etc/fstab i posem els seg\u00fcents parametres: defaults, usrquota i grpquota: per a que habiliti les quotes per a usuaris i grups. Com ja sabem, al modificar aquest arxiu, hem de reiniciar. Important: Si modifiquem mal el arxiu no podrem reiniciar el sistema i ho hem de arreglar manual En segon lloc, activem les quotes en un directori amb les seg\u00fcents comandes quotacheck -cug /mnt/dades i despres quotaon /mnt/dades i ho verifiquem aml la comanda ls -la En el meu cas, es important fer aquestos pasos sin\u00f2, no es podra fer el munstatge. es fer un formateig amb el format ext4 i despres fer un muntatge com hem fet abans. Crem l'usuari per poder fer proves. Nem a la carpeta /mnt/ i realitxem aquesta comanda edquota -u usuari1 per editar manualment les quotes assignades a un usuari. Nosaltres modificarem aquests dos parametres. blando: indica el limit que l'usuari pot exedir durant el periode. duro: Es el l\u00edmit maxim que no pot exedir l'usuari. Es important cambiar el persmisos del directori, per a poder crear arxius desde altres usuaris. Ara intentarem sobrepasar el limit del que hem modificat en el arxiu de edquota -u usuari1 Amb la seg\u00fcent comanda dd if=/dev/zero of=test bs=1K count=800 creem arxius amb un fitxer d'entrada que en aquest cas es /dev/zero, que genera zeros cont\u00ednuament. Tamb\u00e9 hem especificat el nom del arxiu i finalment diem quina mida volem que tingue l'arxiu que sera de uns 800Kb. Podem observar que hem creat 3 fitxers correctament, per\u00f2, al ultim fitxer he tingut l'error que voliem que es que hem sobrepassat el limit d'espai. Ara ja sabem quin es el l\u00edmit, borrem els 4 arxius creats i nem a fer-ho de forma grafica descargant imatges amb bona resoluci\u00f3. He descargat una imatge amb una mida de 887 Kb i he provat de sobrepassar el limit. He ho he trobat ja que he deixat dos arxius anteriors per a fer espai. He calculat que no podre ni des\u00e0 cap imatge i s\u00ed, tinc ra\u00f3, ja que he sobrepassat el l\u00edmit del directori.","title":"Exercici practic"},{"location":"sprint2/#copies-de-seguretat-i-automatitzacio-de-tasques","text":"","title":"C\u00f2pies de seguretat i automatitzaci\u00f3 de tasques"},{"location":"sprint2/#1teoria","text":"","title":"1.Teoria"},{"location":"sprint2/#11copies-de-seguretat-fer-una-taula-comparativa","text":"Tipus Descripci\u00f3 Avantatges Desavantatges Completes \u00c9s realitza una copia de tot. No es deixa cap arxiu,es a dir, es fa una copia de tot. Al fer estes copies completes utilitza molt d'espai i tarda molt de temps per fer les copies ja que en fa de tot. Diferencials Una diferencial copia la diferencia sempre a partir de la ultima completa \u00c9s molt \u00fatil per a copies que es fan seq\u00fcentcialment ja que utiliza menys espai i tarda menys que una completa. Necessita l'\u00faltima completa i l'\u00faltima diferencial (ja que fa com una diferencia entre la completa i la ultima diferencial). Incrementals Canvis des de l'\u00faltima c\u00f2pia (qualsevol). ocupen menys espai i son molt m\u00e9s r\u00e0pides. Necessita completa i totes les incrementals per restaurar. Duplicity","title":"1.1C\u00f2pies de seguretat (fer una taula comparativa)"},{"location":"sprint2/#2comandes","text":"","title":"2.Comandes"},{"location":"sprint2/#31-explicacio","text":"","title":"3.1 Explicaci\u00f3"},{"location":"sprint2/#32cp","text":"Es una copia simple no intel\u00b7ligent ho copio tot sense mirar res, ho fa tot en el local i no es pot fer remotament.","title":"3.2cp"},{"location":"sprint2/#33rsync","text":"Copia intelligent nom\u00e9s copia fitxers modificats i se pot utilitzar entre m\u00e0quines remotes per ssh.","title":"3.3rsync"},{"location":"sprint2/#34dd","text":"No \u00e9s per a fer c\u00f2pies de fitxers \u00e9s m\u00e9s per a fer clonacions de particions o de discos.Tamb\u00e9 treballa en local i ho copia tot \u00e9s a dir que tampoc \u00e9s intel\u00b7ligent. Serveix per sobreescriu dades de sector a sector.Ja que ho esborra tot a nivell de bloc","title":"3.4dd"},{"location":"sprint2/#cppractica","text":"La comanda es cp -r /(origin) /(Dest\u00ed). Podem observar que hem fet una copia de tot lo que es troba al directori /homw/ilyass/Descargas a la carpeta nova que hem creat.","title":"CP(pr\u00e0ctica)"},{"location":"sprint2/#rsync","text":"Aquesta comanda el que fe es una copia exacta dels directoris, es a dir, borra fitxers que no es triben en el altre directori. rsync -av --delete /home/alumne/Descargas/ /var/copies/ Podem observar que ens borra la carpeta de prova 2 ja que no es troba en /var/copies.","title":"rsync"},{"location":"sprint2/#automatitzacio-amb-scripts-i-cron-i-anacron-automatitzacio-de-tasques-a-partir-scripts","text":"Caracter\u00edstica Anacron Cron Finalitat Automatitzar tasques en ordinadors apagats. Automatitzar tasques quan l'ordinador est\u00e0 engegat. Com funciona amb l'ordinador apagat Revisa tasques pendents quan l'ordinador es torna a encendre. Executa tasques nom\u00e9s si l'ordinador est\u00e0 enc\u00e8s. \u00das recomanat Tasques de manteniment i generals. Tasques que requereixen execuci\u00f3 en una data exacta. Fitxer per tasques globals No s'aplica. /etc/crontab (per a tasques globals per a tots els usuaris). Fitxer per tasques d'un usuari espec\u00edfic No s'aplica. crontab -e -u (usuari) per tasques espec\u00edfiques a un usuari. Carpetes predeterminades per cron No s'aplica. Directori /etc/ amb carpetes per scripts que es vulguin executar en una data exacta.","title":"Automatitzaci\u00f3 amb scripts i cron i anacron( Automatitzaci\u00f3 de tasques a partir scripts)"},{"location":"sprint2/#practica","text":"Creem un script per podeer provar com funciona aquesta pr\u00e0ctica i posem el codi seg\u00fcent. Si posem /home/$USER en anacron no funciona i hem de posar el usuari especific. Cambiem els permisos a root. En el arxiu /etc/crontab posem que en en la fecha seg\u00fcent es faigue la clonaci\u00f3 del directori \"im\u00e1gines\" Aqui podem observar que ens ha fet la clonaci\u00f3 en el la hora 10:26. Ara el que farem es borrar la data d'avui en el fitxer /etc/cron.daily. En primer lloc passem la script copies.sh Ara borrem el .sh per a no tenir confusions. Borrem el que hi ha dins de cron.daily Cambiem de 5 a 1 per a que nomes tarde 1 min per a que ens pose la fecha en el cron.daily Esperem el minut i ja podem veure que ja tenim la fecha diaria.","title":"Pr\u00e0ctica"},{"location":"sprint3/","text":"Introducci\u00f3 En aquest Sprint treballarem amb un Server i diferents Clients( windows, Ubuntu), En primer lloc, Instal\u00b7larem el domini LDAP i el configurarem, despr\u00e9s Gestionarem el domini, Entorns grafics i finalment treballarem amb servidors SMB i nfs. Instal\u00b7laci\u00f3 domini LDAP Per a fer la instal\u00b7laci\u00f3 d'un domini LDAP hem de configurar un servidor que ens servira com a directori per getionar l'autenticaci\u00f3 i autoritzaci\u00f3 d'usuaris i recursos en una xarxa. Tenim dos formes de afegir el nostre domini una es en els arxius que descaragarem i la altra es la seg\u00fcent que es per la comanda reconfigure. En primer lloc Posem Xarxa NAT per poder tener connexi\u00f3 i que els clients puguin connectar-se. Posem una ip estatica. Ho comprovem fents diferents pings. Nem a l'ubicaci\u00f3 seg\u00fcent i cambiem el nostre hostname en el meu cas ho he deixat per defecte. Nem al arxiu Hosts i agreguem la nostra ip i el nostre domini que afegerim proximament. Ara descarguem el paquet de LDAP Fem uh dpkg-recongure slapd Posem que no volem omitir la conf. Posem el nostre domini Ara el nom de l'organitzaci\u00f3 Posem la contrasenya i la confirmem. Posem la opcio S\u00cd.Posem a guaradar la nova configuraci\u00f3. Posem la opcio S\u00cd.Posem a guaradar la nova configuraci\u00f3. Ara per comprovar les dades farem seguidament la comanda slapcat. Nem al moodle i descarguem una carepta on tenim diferents arxius. Ara accedir amb la comanda nano al arxiu uo.ldif i cambiem per a les nostres dades com el domini. Ara nem al arxiu grup.ldif i fem quasi les mateixes configuracions. Ens inisirim en el usu.ldif i fem diferents configuracions d'usuaris. Ara fem un ldapadd i afegim les configuracions que hem fet anteriorment, es te que dir esta es la segona opci\u00f3 de com afegir el nostre domini. Si tornem a fer un slapcat podem veure els canvis fets. Si tornem a fer un slapcat podem veure els canvis fets. Unir equips al domini Ara nem a unir el nostre primer client. En primer lloc instal\u00b7lem ambla seg\u00fcent comanda, Al finalitzar la seg\u00fcent comanda sens obrira la seg\u00fcent finetra. Si per algun cas al instal\u00b7lar el anterior apt i hem saltat la configuraci\u00f3 posem la seg\u00fcent comanda per poder configurar el LDAP. Pisem que volem congifurar el LDAP. Posem la ip del nostre servidor i acceptar. Posem el nostre domini que hem posat anteriorment al fer la instal\u00b7laci\u00f3 en el SERVIDOR. Posem la versio 3. Cliquem la opcio S\u00ed. Cliquem la opcio S\u00ed. Posem admin per tener permisos de admin. Ara posem la contrasenya que hem posat al SERVIDOR i la tornem a posar per confirmar. Tornem a posar els priviligis que tindrem. Posem md5 que es per encriptar la contrasenyar. Nem al arxiu /etc/nsswitch.conf i fiquem exactament com es mostra en la imatge seg\u00fcent. Ara nem al arxiu /etc/pam.d/common-session i posem la comanda que esta en el requadre roig. Cambiem les seg\u00fcents en el fitxer 50-Ubuntu.conf. Ara fem un use alu 1 i accedim al alu1 desde codi i fem un whoami per veure els privilegis que tenim i veem que tenim de alu1. Gesti\u00f3 de domini Per gestionar utlitzarem diferents comandes de ldap. Fem un rconfigure per esborrar altres usuaris o grups creats anteriorment. Ara agafaem un fitxer i agreguem dades que vulguem amb la seva ou i etc... Fem la seg\u00fcent comanda per afegir els usuaris que tenim al fitxer .ldif i posem la contra que hem dir anteriorment. Fem un slapcat i podem observar els usuaris que hem dit anteriorment. Ara podem utilitzar aquesta comanda per poder fer una busqueda. Tamb\u00e9 podem utilitzar diferents filtres per fer unes bones busquedes com ara farem pel seu mail. Tamb\u00e9 podem utilitzar pel filtre groups Ara podem utilitzar la comanda ldapmodify. Primer crearem un document que es dira proves.ldif i aqui podrem posar totes les modificaci\u00f3ns que farem. I farem esta comanda per fer la modificaci\u00f3. Podrem observar que ens posant que se esta modificant. Ara en ves de utilitzar la comanda ldapdelete utilitzem la de ldapmodify i al arxiu posem en el lloc de type posem delete aixi podem esborrar els usuaris. Ara tornem a fer la comanda anterior i podem observar que esta borrant al usuari. Ara fem una altra modificaci\u00f3 afegint un mail a un usuari especific. I realitzem la comanda i fem un search. Ara farem una altra modificaci\u00f3 de tipo modrdn i cambiarem el cn a MiguelAngel. Tornem a fer la comanda ldapmodify i al fer un search podem observar que el cambi ha funcionat correctament. Entorns gr\u00e0fics Per utilitzar Entorns grafics utilitzarem el programa Apache Directory Studio i seguirem els seg\u00fcents pasos: En primer lloc accedim a la pagina oficial de Apache Directory i instal\u00b7lem el programam per a linux. Es possible que que ens faigue instal\u00b7lar el java, jo en el meu cas ja el tinc instal\u00b7lat. Accedim a la part superior en LDAP Posem nova connexi\u00f3. Posem un nom a la connexi\u00f3 i la ip del server, i virifiquem la connectivitat. Ara posem el nostre domini i posem a verificar en aquest cas surt que ja esta verificat. Ara agregarem un usuari per provar si funciona realment. Entrarem al nostre domini i fem oin posa New Entry . Posem que utilitzem un esquema existent. Posem els seg\u00fcents objectes que voldrem afegir. Agreguem les dades del nou usuari. Agreguem les seg\u00fcents dades i posem a finalitzar. Aqui ja podem veure que ja esta creat Ara es poder accedir amb l'usuari creat pero no he pogut. Servidors SMB INSTAL\u00b7LACI\u00d3 I CONFIGURACI\u00d3 SERVER En primer lloc, en la maquina server utilitzem la seg\u00fcent comanda per instal\u00b7lar samba. Creem els seg\u00fcent directori que voldrem compartir amb els permisos necessaris. En el arxiu etc/samba/smb.conf afegim les seg\u00fcents dades per a que els clients puguin tenir permiso en la carpeta que compartirem. Sempre que fem alg\u00fan canvi en aquest arxiu estem obligats (Si volem que funcion) a fer la seg\u00fcent comanda systemctl restart smbd nmbd Utilitzem aquest acomanda per crear els usuaris que puguin accedir a la carpeta. Seguirem la seg\u00fcent comanda per crear usuaris i grups. Le posem una contrasenya amb la comanda smbpasswd -a \"blau\" , aquesta contrasenya la necessitarem al voler accedir a la carpeta. Ara tornem a l'arxiu etc/samba/smb.conf i fem els seg\u00fcents canvis, Principalment son els permisos que lis hi donem als usuaris. INSTAL\u00b7LACI\u00d3 I PROVES CLIENT En el client ubuntu fem la instal\u00b7laci\u00f3 del smbclient. Nem a Fitxers, altres ubicacions, i a la barra de baix posem la seg\u00fcent URL: smb://10.0.2.15/proves i posem connectar. Posem per provar si podem accedir amb permisos d'anonim. Amb les modificacions que tenim en el fitxer etc/samba/smb.conf no seria possible crear o fer modificacions amb els permisos de anonim. Per arreglar aquest error posem el read only = yes en comentaris. Com he dit abans hem de fer un restart al smbd nmbd I ara finalment podem crear una carpeta anominada anonim. Ara provem de entrar amb el usuari blau i la contrasenya que vam posar al crear. Creem una carpeta per probar si podem crear i com se pot veure hem creat la carpeta anominda blau. Nem al servidor i podem veure que se han correctament i amb els permisos del seu creador. Ara porobem en roig i com antes en el fitxer etc/samba/smb.conf hem posat que denegem el acces al usuari roig. Ara probem amb l'usuari groc. Podem accedir pero nomes podem llegir No podem crear ni esborrar. Servidors NFS Per a compartir fitxers en NFS en el Servidor hem de instal\u00b7lar el nfs-kernel-server. Fem un systemctl status nfs-srever per veure el estat. Instal\u00b7laci\u00f3 pasrt client ubuntu Ara nem al client ubutnu i fem la seg\u00fcent comanda per instal\u00b7lar Instal\u00b7laci\u00f3 pasrt client windows Per fer la instal\u00b7laci\u00f3 en windows necesitem fer diferent pasos per poder activar-ho. En primer lloc nem al Programes i caracteristiques : A la part esquerra i cliquem sobre Activar o desactivar las caracteristicas de Windows : Ens ubiquem a la caracteristica de Servicios para NFS . I posem acceptar i se ens actualitzara. Compartici\u00f3 carpeta al server i proves en el server\u00e7 Creem la carpeta que volem compartir. Li assignem els permisos a la carpeta i ho comprovem. En el arxiu /etc/exports afegim el seg\u00fcent codi. I reiniciem el nfs-kernel-server Ara nem al client windows i entrem dins de la ip del server Com podem veure ja estem dins de la carpeta i creem un arxiu.txt. Si entrem al server i fem un ls, podem veure que se ha creat. Si posem en acces directe, cada vegada que iniciem sissi\u00f3 podrem accedir a la carpeta. Ara accedim al client ubuntu. Accedim al directori /mnt i creem una carpeta nfs i li assignem permisos adients. Proximament muntem la carpeta amb la IP del Server i al fer la comanda df -h podrem veure el que hem fet. accedim a /nfs i creem el arxiu aaaa Accedim al Server i fem un ls - l podem veure el arxiu creat. Perfils mobils (Ubuntu LDAP) Ara realitzarem els perfils mobils amb el client Ubunt. Anirem a l'arrel on crearem la carpeta perfils amb els seg\u00fcents permissos. Accedirem al arxiu /etc/exports i afegirem el seg\u00fcent codi. Fem un reinici del nfs-kernel-server Accedirem al arxiu usu.ldif i modifiquem els seg\u00fcents parametres, que basicament son el nom del usuari, on es creara el home del usuari (Quan accedim) i la contrasenya. Realitzem el ldapadd del usuari que hem modificat anteriorment Accedim al /etc/fstab i agreguem el seg\u00fcent codi. Cal afegir que la correci\u00f3 que vam parlar que fariem ja esta feta pero no hem tingut resultats ja que la mquina(client) hem petaba.","title":"Sprint 3"},{"location":"sprint3/#introduccio","text":"En aquest Sprint treballarem amb un Server i diferents Clients( windows, Ubuntu), En primer lloc, Instal\u00b7larem el domini LDAP i el configurarem, despr\u00e9s Gestionarem el domini, Entorns grafics i finalment treballarem amb servidors SMB i nfs.","title":"Introducci\u00f3"},{"location":"sprint3/#installacio-domini-ldap","text":"Per a fer la instal\u00b7laci\u00f3 d'un domini LDAP hem de configurar un servidor que ens servira com a directori per getionar l'autenticaci\u00f3 i autoritzaci\u00f3 d'usuaris i recursos en una xarxa. Tenim dos formes de afegir el nostre domini una es en els arxius que descaragarem i la altra es la seg\u00fcent que es per la comanda reconfigure. En primer lloc Posem Xarxa NAT per poder tener connexi\u00f3 i que els clients puguin connectar-se. Posem una ip estatica. Ho comprovem fents diferents pings. Nem a l'ubicaci\u00f3 seg\u00fcent i cambiem el nostre hostname en el meu cas ho he deixat per defecte. Nem al arxiu Hosts i agreguem la nostra ip i el nostre domini que afegerim proximament. Ara descarguem el paquet de LDAP Fem uh dpkg-recongure slapd Posem que no volem omitir la conf. Posem el nostre domini Ara el nom de l'organitzaci\u00f3 Posem la contrasenya i la confirmem. Posem la opcio S\u00cd.Posem a guaradar la nova configuraci\u00f3. Posem la opcio S\u00cd.Posem a guaradar la nova configuraci\u00f3. Ara per comprovar les dades farem seguidament la comanda slapcat. Nem al moodle i descarguem una carepta on tenim diferents arxius. Ara accedir amb la comanda nano al arxiu uo.ldif i cambiem per a les nostres dades com el domini. Ara nem al arxiu grup.ldif i fem quasi les mateixes configuracions. Ens inisirim en el usu.ldif i fem diferents configuracions d'usuaris. Ara fem un ldapadd i afegim les configuracions que hem fet anteriorment, es te que dir esta es la segona opci\u00f3 de com afegir el nostre domini. Si tornem a fer un slapcat podem veure els canvis fets. Si tornem a fer un slapcat podem veure els canvis fets.","title":"Instal\u00b7laci\u00f3 domini LDAP"},{"location":"sprint3/#unir-equips-al-domini","text":"Ara nem a unir el nostre primer client. En primer lloc instal\u00b7lem ambla seg\u00fcent comanda, Al finalitzar la seg\u00fcent comanda sens obrira la seg\u00fcent finetra. Si per algun cas al instal\u00b7lar el anterior apt i hem saltat la configuraci\u00f3 posem la seg\u00fcent comanda per poder configurar el LDAP. Pisem que volem congifurar el LDAP. Posem la ip del nostre servidor i acceptar. Posem el nostre domini que hem posat anteriorment al fer la instal\u00b7laci\u00f3 en el SERVIDOR. Posem la versio 3. Cliquem la opcio S\u00ed. Cliquem la opcio S\u00ed. Posem admin per tener permisos de admin. Ara posem la contrasenya que hem posat al SERVIDOR i la tornem a posar per confirmar. Tornem a posar els priviligis que tindrem. Posem md5 que es per encriptar la contrasenyar. Nem al arxiu /etc/nsswitch.conf i fiquem exactament com es mostra en la imatge seg\u00fcent. Ara nem al arxiu /etc/pam.d/common-session i posem la comanda que esta en el requadre roig. Cambiem les seg\u00fcents en el fitxer 50-Ubuntu.conf. Ara fem un use alu 1 i accedim al alu1 desde codi i fem un whoami per veure els privilegis que tenim i veem que tenim de alu1.","title":"Unir equips al domini"},{"location":"sprint3/#gestio-de-domini","text":"Per gestionar utlitzarem diferents comandes de ldap. Fem un rconfigure per esborrar altres usuaris o grups creats anteriorment. Ara agafaem un fitxer i agreguem dades que vulguem amb la seva ou i etc... Fem la seg\u00fcent comanda per afegir els usuaris que tenim al fitxer .ldif i posem la contra que hem dir anteriorment. Fem un slapcat i podem observar els usuaris que hem dit anteriorment. Ara podem utilitzar aquesta comanda per poder fer una busqueda. Tamb\u00e9 podem utilitzar diferents filtres per fer unes bones busquedes com ara farem pel seu mail. Tamb\u00e9 podem utilitzar pel filtre groups Ara podem utilitzar la comanda ldapmodify. Primer crearem un document que es dira proves.ldif i aqui podrem posar totes les modificaci\u00f3ns que farem. I farem esta comanda per fer la modificaci\u00f3. Podrem observar que ens posant que se esta modificant. Ara en ves de utilitzar la comanda ldapdelete utilitzem la de ldapmodify i al arxiu posem en el lloc de type posem delete aixi podem esborrar els usuaris. Ara tornem a fer la comanda anterior i podem observar que esta borrant al usuari. Ara fem una altra modificaci\u00f3 afegint un mail a un usuari especific. I realitzem la comanda i fem un search. Ara farem una altra modificaci\u00f3 de tipo modrdn i cambiarem el cn a MiguelAngel. Tornem a fer la comanda ldapmodify i al fer un search podem observar que el cambi ha funcionat correctament.","title":"Gesti\u00f3 de domini"},{"location":"sprint3/#entorns-grafics","text":"Per utilitzar Entorns grafics utilitzarem el programa Apache Directory Studio i seguirem els seg\u00fcents pasos: En primer lloc accedim a la pagina oficial de Apache Directory i instal\u00b7lem el programam per a linux. Es possible que que ens faigue instal\u00b7lar el java, jo en el meu cas ja el tinc instal\u00b7lat. Accedim a la part superior en LDAP Posem nova connexi\u00f3. Posem un nom a la connexi\u00f3 i la ip del server, i virifiquem la connectivitat. Ara posem el nostre domini i posem a verificar en aquest cas surt que ja esta verificat. Ara agregarem un usuari per provar si funciona realment. Entrarem al nostre domini i fem oin posa New Entry . Posem que utilitzem un esquema existent. Posem els seg\u00fcents objectes que voldrem afegir. Agreguem les dades del nou usuari. Agreguem les seg\u00fcents dades i posem a finalitzar. Aqui ja podem veure que ja esta creat Ara es poder accedir amb l'usuari creat pero no he pogut.","title":"Entorns gr\u00e0fics"},{"location":"sprint3/#servidors-smb","text":"","title":"Servidors SMB"},{"location":"sprint3/#installacio-i-configuracio-server","text":"En primer lloc, en la maquina server utilitzem la seg\u00fcent comanda per instal\u00b7lar samba. Creem els seg\u00fcent directori que voldrem compartir amb els permisos necessaris. En el arxiu etc/samba/smb.conf afegim les seg\u00fcents dades per a que els clients puguin tenir permiso en la carpeta que compartirem. Sempre que fem alg\u00fan canvi en aquest arxiu estem obligats (Si volem que funcion) a fer la seg\u00fcent comanda systemctl restart smbd nmbd Utilitzem aquest acomanda per crear els usuaris que puguin accedir a la carpeta. Seguirem la seg\u00fcent comanda per crear usuaris i grups. Le posem una contrasenya amb la comanda smbpasswd -a \"blau\" , aquesta contrasenya la necessitarem al voler accedir a la carpeta. Ara tornem a l'arxiu etc/samba/smb.conf i fem els seg\u00fcents canvis, Principalment son els permisos que lis hi donem als usuaris.","title":"INSTAL\u00b7LACI\u00d3 I CONFIGURACI\u00d3 SERVER"},{"location":"sprint3/#installacio-i-proves-client","text":"En el client ubuntu fem la instal\u00b7laci\u00f3 del smbclient. Nem a Fitxers, altres ubicacions, i a la barra de baix posem la seg\u00fcent URL: smb://10.0.2.15/proves i posem connectar. Posem per provar si podem accedir amb permisos d'anonim. Amb les modificacions que tenim en el fitxer etc/samba/smb.conf no seria possible crear o fer modificacions amb els permisos de anonim. Per arreglar aquest error posem el read only = yes en comentaris. Com he dit abans hem de fer un restart al smbd nmbd I ara finalment podem crear una carpeta anominada anonim. Ara provem de entrar amb el usuari blau i la contrasenya que vam posar al crear. Creem una carpeta per probar si podem crear i com se pot veure hem creat la carpeta anominda blau. Nem al servidor i podem veure que se han correctament i amb els permisos del seu creador. Ara porobem en roig i com antes en el fitxer etc/samba/smb.conf hem posat que denegem el acces al usuari roig. Ara probem amb l'usuari groc. Podem accedir pero nomes podem llegir No podem crear ni esborrar.","title":"INSTAL\u00b7LACI\u00d3  I PROVES CLIENT"},{"location":"sprint3/#servidors-nfs","text":"Per a compartir fitxers en NFS en el Servidor hem de instal\u00b7lar el nfs-kernel-server. Fem un systemctl status nfs-srever per veure el estat.","title":"Servidors NFS"},{"location":"sprint3/#installacio-pasrt-client-ubuntu","text":"Ara nem al client ubutnu i fem la seg\u00fcent comanda per instal\u00b7lar","title":"Instal\u00b7laci\u00f3 pasrt client ubuntu"},{"location":"sprint3/#installacio-pasrt-client-windows","text":"Per fer la instal\u00b7laci\u00f3 en windows necesitem fer diferent pasos per poder activar-ho. En primer lloc nem al Programes i caracteristiques : A la part esquerra i cliquem sobre Activar o desactivar las caracteristicas de Windows : Ens ubiquem a la caracteristica de Servicios para NFS . I posem acceptar i se ens actualitzara.","title":"Instal\u00b7laci\u00f3 pasrt client windows"},{"location":"sprint3/#comparticio-carpeta-al-server-i-proves-en-el-serverc","text":"Creem la carpeta que volem compartir. Li assignem els permisos a la carpeta i ho comprovem. En el arxiu /etc/exports afegim el seg\u00fcent codi. I reiniciem el nfs-kernel-server Ara nem al client windows i entrem dins de la ip del server Com podem veure ja estem dins de la carpeta i creem un arxiu.txt. Si entrem al server i fem un ls, podem veure que se ha creat. Si posem en acces directe, cada vegada que iniciem sissi\u00f3 podrem accedir a la carpeta. Ara accedim al client ubuntu. Accedim al directori /mnt i creem una carpeta nfs i li assignem permisos adients. Proximament muntem la carpeta amb la IP del Server i al fer la comanda df -h podrem veure el que hem fet. accedim a /nfs i creem el arxiu aaaa Accedim al Server i fem un ls - l podem veure el arxiu creat.","title":"Compartici\u00f3 carpeta al server i proves en el server\u00e7"},{"location":"sprint3/#perfils-mobils-ubuntu-ldap","text":"Ara realitzarem els perfils mobils amb el client Ubunt. Anirem a l'arrel on crearem la carpeta perfils amb els seg\u00fcents permissos. Accedirem al arxiu /etc/exports i afegirem el seg\u00fcent codi. Fem un reinici del nfs-kernel-server Accedirem al arxiu usu.ldif i modifiquem els seg\u00fcents parametres, que basicament son el nom del usuari, on es creara el home del usuari (Quan accedim) i la contrasenya. Realitzem el ldapadd del usuari que hem modificat anteriorment Accedim al /etc/fstab i agreguem el seg\u00fcent codi. Cal afegir que la correci\u00f3 que vam parlar que fariem ja esta feta pero no hem tingut resultats ja que la mquina(client) hem petaba.","title":"Perfils mobils (Ubuntu LDAP)"}]}